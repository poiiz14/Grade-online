/* ===== Base & Typography ===== */
html { scroll-behavior: smooth; }
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  background-color: #f8fafc; /* fallback ถ้า tailwind load ไม่ทัน */
}

/* เพิ่ม tap-target ให้กดถนัดบนมือถือ */
:root { --safe-tap: 44px; }
button, .btn, input, select, textarea { min-height: var(--safe-tap); }

/* ===== Background ===== */
.gradient-bg {
  background: linear-gradient(135deg, #e0f2fe 0%, #f5f3ff 100%);
}

/* ===== Cards & Hover ===== */
.card-shadow {
  box-shadow: 0 10px 25px rgba(0,0,0,.06), 0 4px 6px rgba(0,0,0,.04);
}
.hover-scale {
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
}
.hover-scale:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 28px rgba(0,0,0,.08), 0 6px 10px rgba(0,0,0,.05);
  filter: saturate(1.02);
}

/* ===== Admin Nav ===== */
.admin-nav {
  transition: color .15s ease, border-color .15s ease, background-color .15s ease;
  white-space: nowrap;
}

/* ===== Tables ===== */
table thead th {
  letter-spacing: .02em;
  white-space: nowrap;
}
table td, table th { vertical-align: middle; }
table tbody tr:hover { background-color: #fafafa; }

/* ป้องกันชื่อวิชายาวล้นจอมือถือ */
table td { word-break: break-word; }

/* ===== Inputs / Focus ===== */
input[type="text"], input[type="email"], input[type="password"],
input[type="date"], input[type="number"], select, textarea {
  outline: none;
  background-color: #fff;
}
input:focus, select:focus, textarea:focus, button:focus {
  box-shadow: 0 0 0 3px rgba(59,130,246,.35);
  border-color: rgba(59,130,246,.8);
}

/* iOS Safari: กัน auto-zoom เวลาแตะ input */
@supports (-webkit-touch-callout: none) {
  input, select, textarea { font-size: 16px; }
}

/* ===== Modals ===== */
#modalBackdrop { animation: fadeIn .12s ease; }
#modalEditStudent > div,
#modalAddGrade > div,
#modalAddEnglish > div,
#advisorDetailModal > div {
  animation: pop .12s ease;
}

@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
@keyframes pop    { from { transform: scale(.98); opacity: 0 } to { transform: scale(1); opacity: 1 } }

/* ===== Clamp text ===== */
.clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
}
.clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* ===== Scrollbar (WebKit) ===== */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,.18); border-radius: 10px; }
*::-webkit-scrollbar-track { background-color: transparent; }

/* ===== Responsive Tweaks ===== */
/* มือถือ: ลด padding ตาราง/การ์ดให้พอดีจอ, ซ่อนข้อมูลจุกจิกที่ไม่จำเป็น */
@media (max-width: 640px) {
  .hide-on-xs { display: none !important; }

  table th, table td { padding: .5rem .75rem !important; } /* ลดระยะห่างเซลล์ */
  .card-shadow { border-radius: 0.9rem; }

  /* ปุ่มบนแถวรายการให้กินพื้นที่กดง่ายขึ้น */
  .row-action { padding: .375rem .75rem; border-radius: .5rem; }
}

/* แท็บเล็ตแนวตั้ง: ยืดพื้นที่ตาราง/กราฟให้อ่านง่าย */
@media (min-width: 641px) and (max-width: 1024px) {
  .chart-box { min-height: 280px; }
}

/* Desktop ใหญ่: จำกัดความกว้างบรรทัดข้อความยาว */
@media (min-width: 1280px) {
  .prose-max { max-width: 72ch; }
}
